

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>PythonHMM &mdash; PythonHMM 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="PythonHMM 1.0 documentation" href="#" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <div class="headertitle"><a
          href="#">PythonHMM 1.0 documentation</a></div>
        <div class="rel">
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="pythonhmm">
<h1>PythonHMM<a class="headerlink" href="#pythonhmm" title="Permalink to this headline">¶</a></h1>
<p>PythonHMM is a python implementation of the <a class="reference external" href="http://en.wikipedia.org/wiki/Hidden_Markov_model">Hidden Markov Model</a>.</p>
<div class="section" id="module-hmm">
<span id="references"></span><h2>References<a class="headerlink" href="#module-hmm" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="hmm.Model">
<em class="property">class </em><tt class="descclassname">hmm.</tt><tt class="descname">Model</tt><big>(</big><em>states</em>, <em>symbols</em>, <em>start_prob=None</em>, <em>trans_prob=None</em>, <em>emit_prob=None</em><big>)</big><a class="headerlink" href="#hmm.Model" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is an implementation of the Hidden Markov Model.</p>
<p>The instance of this class can be created by passing the given states,
symbols and optional probability matrices.</p>
<p>If any of the probability matrices are not given, the missing matrics
will be set to the initial uniform probability.</p>
<dl class="method">
<dt id="hmm.Model.decode">
<tt class="descname">decode</tt><big>(</big><em>sequence</em><big>)</big><a class="headerlink" href="#hmm.Model.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Decode the given sequence.</p>
<p>This method is an implementation of the
<a class="reference external" href="http://en.wikipedia.org/wiki/Viterbi_algorithm">Viterbi algorithm</a>.</p>
</dd></dl>

<dl class="method">
<dt id="hmm.Model.emit_prob">
<tt class="descname">emit_prob</tt><big>(</big><em>state</em>, <em>symbol</em><big>)</big><a class="headerlink" href="#hmm.Model.emit_prob" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the emission probability for <cite>symbol</cite> associated with the <cite>state</cite>.</p>
<p>If either the <cite>state</cite> or the <cite>symbol</cite> are not contained in this model,
0 is returned.</p>
</dd></dl>

<dl class="method">
<dt id="hmm.Model.evaluate">
<tt class="descname">evaluate</tt><big>(</big><em>sequence</em><big>)</big><a class="headerlink" href="#hmm.Model.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the <a class="reference external" href="http://en.wikipedia.org/wiki/Forward%E2%80%93backward_algorithm">forward algorithm</a>
to evaluate the given sequence.</p>
</dd></dl>

<dl class="method">
<dt id="hmm.Model.learn">
<tt class="descname">learn</tt><big>(</big><em>sequence</em>, <em>smoothing=0</em><big>)</big><a class="headerlink" href="#hmm.Model.learn" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the given <cite>sequence</cite> to find the best state transition and
emission probabilities.</p>
<p>The optional <cite>smoothing</cite> argument (which is defaults to 0) is the
smoothing parameter of the
<a class="reference external" href="http://en.wikipedia.org/wiki/Additive_smoothing">additive smoothing</a>
to avoid zero probability.</p>
</dd></dl>

<dl class="method">
<dt id="hmm.Model.start_prob">
<tt class="descname">start_prob</tt><big>(</big><em>state</em><big>)</big><a class="headerlink" href="#hmm.Model.start_prob" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the start probability of the given state.</p>
<p>If <cite>state</cite> is not contained in the state set of this model, 0 is returned.</p>
</dd></dl>

<dl class="method">
<dt id="hmm.Model.states">
<tt class="descname">states</tt><big>(</big><big>)</big><a class="headerlink" href="#hmm.Model.states" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the state set of this model.</p>
</dd></dl>

<dl class="method">
<dt id="hmm.Model.states_number">
<tt class="descname">states_number</tt><big>(</big><big>)</big><a class="headerlink" href="#hmm.Model.states_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of states.</p>
</dd></dl>

<dl class="method">
<dt id="hmm.Model.symbols">
<tt class="descname">symbols</tt><big>(</big><big>)</big><a class="headerlink" href="#hmm.Model.symbols" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the symbol set of this model.</p>
</dd></dl>

<dl class="method">
<dt id="hmm.Model.symbols_number">
<tt class="descname">symbols_number</tt><big>(</big><big>)</big><a class="headerlink" href="#hmm.Model.symbols_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of symbols.</p>
</dd></dl>

<dl class="method">
<dt id="hmm.Model.trans_prob">
<tt class="descname">trans_prob</tt><big>(</big><em>state_from</em>, <em>state_to</em><big>)</big><a class="headerlink" href="#hmm.Model.trans_prob" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the probability that transition from state <cite>state_from</cite> to
state <cite>state_to</cite>.</p>
<p>If either the <cite>state_from</cite> or the <cite>state_to</cite> are not contained in the
state set of this model, 0 is returned.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="hmm.train">
<tt class="descclassname">hmm.</tt><tt class="descname">train</tt><big>(</big><em>sequences</em>, <em>delta=0.0001</em>, <em>smoothing=0</em><big>)</big><a class="headerlink" href="#hmm.train" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the given sequences to train a HMM model.
This method is an implementation of the <a class="reference external" href="http://en.wikipedia.org/wiki/Expectation%E2%80%93maximization_algorithm">EM algorithm</a>.</p>
<p>The <cite>delta</cite> argument (which is defaults to 0.0001) specifies that the
learning algorithm will stop when the difference of the log-likelihood
between two consecutive iterations is less than delta.</p>
<p>The <cite>smoothing</cite> argument is used to avoid zero probability,
see <a class="reference internal" href="#hmm.Model.learn" title="hmm.Model.learn"><tt class="xref py py-meth docutils literal"><span class="pre">learn()</span></tt></a>.</p>
</dd></dl>

</div>
<div class="section" id="usage-example">
<h2>Usage Example<a class="headerlink" href="#usage-example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># -*- coding: utf-8 -*-</span>

<span class="kn">from</span> <span class="nn">hmm</span> <span class="kn">import</span> <span class="n">Model</span>

<span class="n">states</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;rainy&#39;</span><span class="p">,</span> <span class="s">&#39;sunny&#39;</span><span class="p">)</span>
<span class="n">symbols</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;walk&#39;</span><span class="p">,</span> <span class="s">&#39;shop&#39;</span><span class="p">,</span> <span class="s">&#39;clean&#39;</span><span class="p">)</span>

<span class="n">start_prob</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;rainy&#39;</span> <span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
    <span class="s">&#39;sunny&#39;</span> <span class="p">:</span> <span class="mf">0.5</span>
<span class="p">}</span>

<span class="n">trans_prob</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;rainy&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="s">&#39;rainy&#39;</span> <span class="p">:</span> <span class="mf">0.7</span><span class="p">,</span> <span class="s">&#39;sunny&#39;</span> <span class="p">:</span> <span class="mf">0.3</span> <span class="p">},</span>
    <span class="s">&#39;sunny&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="s">&#39;rainy&#39;</span> <span class="p">:</span> <span class="mf">0.4</span><span class="p">,</span> <span class="s">&#39;sunny&#39;</span> <span class="p">:</span> <span class="mf">0.6</span> <span class="p">}</span>
<span class="p">}</span>

<span class="n">emit_prob</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;rainy&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="s">&#39;walk&#39;</span> <span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span> <span class="s">&#39;shop&#39;</span> <span class="p">:</span> <span class="mf">0.4</span><span class="p">,</span> <span class="s">&#39;clean&#39;</span> <span class="p">:</span> <span class="mf">0.5</span> <span class="p">},</span>
    <span class="s">&#39;sunny&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="s">&#39;walk&#39;</span> <span class="p">:</span> <span class="mf">0.6</span><span class="p">,</span> <span class="s">&#39;shop&#39;</span> <span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="s">&#39;clean&#39;</span> <span class="p">:</span> <span class="mf">0.1</span> <span class="p">}</span>
<span class="p">}</span>

<span class="n">sequence</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;walk&#39;</span><span class="p">,</span> <span class="s">&#39;shop&#39;</span><span class="p">,</span> <span class="s">&#39;clean&#39;</span><span class="p">,</span> <span class="s">&#39;clean&#39;</span><span class="p">,</span> <span class="s">&#39;walk&#39;</span><span class="p">,</span> <span class="s">&#39;walk&#39;</span><span class="p">,</span> <span class="s">&#39;walk&#39;</span><span class="p">,</span> <span class="s">&#39;clean&#39;</span><span class="p">]</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">states</span><span class="p">,</span> <span class="n">symbols</span><span class="p">,</span> <span class="n">start_prob</span><span class="p">,</span> <span class="n">trans_prob</span><span class="p">,</span> <span class="n">emit_prob</span><span class="p">)</span>

<span class="k">print</span> <span class="n">model</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">sequence</span><span class="p">)</span>
<span class="k">print</span> <span class="n">model</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">sequence</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><pre>Copyright (c) 2012, Chi-En Wu
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
    * Neither the name of the organization nor the
      names of its contributors may be used to endorse or promote products
      derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL &lt;COPYRIGHT HOLDER&gt; BE LIABLE FOR ANY
DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</pre>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          
          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             >index</a>
            <br/>
            <a href="_sources/index.txt"
               rel="nofollow">Show Source</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2012, Chi-En Wu.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>